  # 代码美化分享工具 PRD v1.0

## 目录
1. 产品定位
2. 功能需求
   - 文本输入模块
   - 样式美化模块
   - 导出分享模块
3. 交互逻辑
   - 输入交互
   - 样式调整交互
   - 导出交互
4. 使用流程
5. 技术要求
   - 兼容性要求
   - 性能指标
   - 安全要求
6. 使用限制

## 一、产品定位
### 1.1 产品简介
- 一个简单的文本美化工具，用户可以将文本转换成美观的图片用于分享

### 1.2 目标用户
- 开发者（分享代码片段）
- 内容创作者（分享文本内容）
- 社交媒体用户（制作精美的文本图片）

### 1.3 使用场景
- 技术博客代码展示
- 社交媒体内容分享
- 文档截图美化


## 二、功能需求

### 2.1 文本输入模块
#### 2.1.1 输入方式
- 复制粘贴
  - 支持 Ctrl+V / Command+V 快捷键
  - 支持右键菜单粘贴
  - 粘贴时保留文本的原始格式（空格、换行等）
- 键盘输入
  - 支持常规键盘输入
  - 支持回车换行
  - 支持 Tab 键缩进（保持代码格式）
  - 支持常用编辑快捷键（Ctrl+A, Ctrl+C, Ctrl+X, Ctrl+Z等）
- 文本编辑
  - 支持选中文本
  - 支持删除操作
  - 支持光标定位
  - 支持文本框大小自适应

#### 2.1.2 文本显示
- 基础显示
  - 显示空格和制表符（可选）
  - 自动换行（可选）
  - 保持文本原始格式
- 文本限制
  - 最大字符数：5000字符
  - 字符计数显示：
    - 在输入框右下角始终显示剩余字符数，格式为 "-XXXX"
    - 当剩余字符数 >100 时显示为灰色
    - 当剩余字符数 ≤100 时显示为黄色
    - 当超出限制时显示为红色
  - 超出限制处理：
    - 允许输入但显示红色警告
    - 导出按钮变为禁用状态
    - 提示文案："请删减文本内容后再导出"

### 2.2 样式美化模块
#### 2.2.1 主题系统
- 预设主题
  - Midnight（深邃黑）
  - Ocean（海洋蓝）
  - Forest（森林绿）
  - Sunset（日落橙）
  - Dawn（晨光白）
  - Candy（糖果粉）
- 主题切换
  - 主题预览卡片展示
  - 点击即可切换
  - 切换时有平滑过渡动画
  - 记住用户最后使用的主题


#### 2.2.2 布局设置
- 内边距设置
  - 可选值：16px、24px、32px、48px
  - 通过预设选项切换
  - 实时预览效果
- 字体设置
  - 字体大小：14px - 20px
  - 行高：1.4 - 1.8
  - 通过滑块调节
  - 调节时实时预览

#### 2.2.3 窗口装饰
- 窗口按钮
  - 可选择显示/隐藏
  - 支持 macOS/Windows 两种风格
  - 默认显示 macOS 风格
- 行号显示
  - 可选择显示/隐藏
  - 行号颜色跟随主题
  - 默认不显示

#### 2.2.4 其他设置
- 圆角大小：0px、8px、12px、16px
- 背景透明度：80% - 100%

### 2.3 导出分享模块
#### 2.3.1 导出选项
- 图片格式
  - 格式：PNG
  - 分辨率：2x（适配高清屏幕）
  - 背景：支持透明度设置
- 尺寸控制
  - 最大尺寸限制：2000 x 2000 像素
  - 最小尺寸限制：300 x 300 像素
  - 自动计算最佳尺寸（基于内容）
  - 保持原始宽高比
- 质量控制
  - 文件大小上限：2MB
  - 自动优化图片质量
  - 在保证清晰度的前提下最小化文件大小

#### 2.3.2 导出方式
- 复制到剪贴板
  - 快捷键支持：Ctrl+Shift+C
  - 复制成功时显示提示
  - 支持直接粘贴到其他应用
- 下载到本地
  - 文件命名规则：code_snippet_YYYYMMDD_HHMMSS.png
  - 使用系统默认下载位置
  - 下载完成时显示提示


## 三、交互逻辑

### 3.1 输入交互
#### 3.1.1 输入框状态
- 焦点状态
  - 获得焦点时显示细边框高亮
  - 失去焦点时恢复默认边框
  - Tab 键可以在输入框间切换焦点
- 输入反馈
  - 输入时光标跟随
  - 输入特殊字符时的视觉反馈
  - 粘贴时短暂高亮提示
- 选择操作
  - 双击选中单词
  - 三击选中整行
  - 拖拽选择文本
  - 选中状态的视觉反馈

#### 3.1.2 字符计数交互
- 计数器显示
  - 位置：右下角固定位置
  - 大小：12px 字号
  - 透明度：0.7（默认）
  - 悬停时完全不透明
- 状态变化
  - 正常状态：灰色文字
  - 接近限制时：黄色渐变过渡
  - 超出限制时：红色渐变过渡
  - 数字变化时平滑动画

### 3.2 样式调整交互
#### 3.2.1 主题切换
- 切换流程
  - 点击主题预览卡片触发
  - 执行 300ms 的过渡动画
  - 更新所有相关元素样式
  - 自动保存选择（localStorage）
- 预览效果
  - 鼠标悬停时放大预览
  - 显示主题名称
  - 当前选中主题高亮显示

#### 3.2.2 布局调整
- 实时预览
  - 所有调整即时生效
  - 调整时显示参考线
  - 超出范围时的视觉提示
- 联动效果
  - 字体大小调整时自动调整行高
  - 内容溢出时显示滚动条
  - 自动计算导出尺寸


### 3.3 导出交互
#### 3.3.1 导出按钮状态
- 正常状态
  - 文本内容在限制范围内
  - 所有必要设置已完成
  - 显示"导出图片"文本
- 禁用状态
  - 文本超出字符限制
  - 显示禁用原因提示
- 处理中状态
  - 显示加载动画
  - 显示进度百分比

#### 3.3.2 导出过程交互
- 点击导出按钮后
  - 显示半透明遮罩
  - 中心位置显示进度指示器
  - 显示取消按钮
- 导出成功
  - 显示成功提示 Toast
  - 自动消失时间：2秒
  - 提供"再次导出"选项
- 导出失败
  - 显示错误原因
  - 提供重试按钮
  - 提供反馈入口

#### 3.3.3 复制到剪贴板交互
- 复制按钮状态
  - 默认显示"复制到剪贴板"
  - 复制成功后显示"已复制"（2秒后恢复）
  - 复制失败显示错误提示
- 快捷键响应
  - 按下 Ctrl+Shift+C 触发复制
  - 复制时显示键盘快捷键提示

#### 3.3.4 错误处理交互
- 文件大小超限
  - 显示当前/最大大小对比
  - 提供优化建议
  - 提供强制导出选项
- 导出超时
  - 30秒后显示超时提示
  - 提供继续等待选项
  - 提供取消选项
- 网络错误
  - 显示具体错误原因
  - 提供重试选项
  - 提供离线导出选项（如果可能）


## 四、使用流程

### 4.1 基础流程
1. 用户访问网站
2. 粘贴或输入文本内容
3. 选择喜欢的主题样式
4. 调整布局参数
5. 导出/复制图片

### 4.2 异常流程处理
- 文本超出限制
  - 显示警告提示
  - 禁用导出功能
  - 引导用户删减内容
- 导出失败
  - 显示具体错误原因
  - 提供重试选项
  - 提供备选方案
- 网络异常
  - 自动重试连接
  - 提供离线功能
  - 数据本地缓存

## 五、技术要求

### 5.1 兼容性要求
#### 浏览器支持
- Chrome 最新版
- Firefox 最新版
- Safari 最新版
- Edge 最新版

#### 设备支持
- 桌面端（Windows/macOS）
- 移动端（iOS/Android）基础支持

### 5.2 性能指标
#### 加载性能
- 首屏加载时间 < 2s
- 首次可交互时间 < 3s
- 核心资源加载优先级

#### 运行性能
- 页面操作响应时间 < 100ms
- 内存占用 < 200MB
- 60fps 流畅交互
- 导出处理时间 < 3s

### 5.3 安全要求
#### 数据安全
- 不存储用户输入的文本内容
- 导出过程中的临时数据及时清理
- 确保剪贴板访问安全

#### 资源访问
- 使用 HTTPS 协议
- 静态资源 CDN 分发
- 防止资源滥用

## 六、使用限制

### 6.1 功能限制
- 仅支持文本输入，不支持文件上传
- 最大字符数：5000字符
- 图片尺寸限制：2000 x 2000 像素
- 导出文件大小上限：2MB

### 6.2 性能限制
- 单次导出处理时间不超过30秒
- 并发导出数量限制：3个
- 每小时导出次数限制：100次

### 6.3 资源限制
- 本地存储使用限制：10MB
- 内存使用限制：200MB
- CDN 带宽限制：视实际情况而定


# 网站设计风格指南

## 一、整体风格
### 1.1 设计理念
- 简约现代
- 专业可靠
- 注重细节
- 以用户体验为中心

### 1.2 色彩系统
- 主色调
  - 深色模式：#1E1E1E（类 VS Code 深色背景）
  - 浅色模式：#FFFFFF（纯白背景）
- 强调色
  - 主要：#007AFF（品牌蓝）
  - 次要：#28CD41（成功绿）
  - 警告：#FFCC00（警告黄）
  - 错误：#FF3B30（错误红）
- 中性色
  - 文本：#333333（主要文本）
  - 次要文本：#666666
  - 提示文本：#999999
  - 分割线：#E5E5E5

### 1.3 布局风格
- 左侧工具栏（固定宽度）
- 中间编辑区（自适应）
- 右侧预览区（固定宽度）
- 顶部简洁导航
- 充分利用空白空间

## 二、组件风格
### 2.1 按钮
- 主要按钮
  - 圆角：6px
  - 高度：36px
  - 内边距：16px 24px
  - 带图标时图标与文字间距：8px
- 次要按钮
  - 透明背景
  - 边框样式
  - 悬停效果柔和

### 2.2 输入框
- 简洁的边框
- 聚焦时的微妙动画
- 错误状态清晰可见
- 内部padding统一为12px

### 2.3 卡片样式
- 轻微的阴影效果
- 圆角统一为8px
- 悬停时的立体感
- 内容间距保持一致

## 三、交互动效
### 3.1 过渡动画
- 持续时间：300ms
- 缓动函数：ease-in-out
- 保持流畅自然
- 避免过度动画

### 3.2 反馈效果
- 点击涟漪效果
- 状态切换渐变
- 加载动画简洁
- 错误提示醒目但不突兀

## 四、响应式设计
### 4.1 断点设置
- 移动端：< 768px
- 平板：768px - 1024px
- 桌面：> 1024px
- 大屏：> 1440px

### 4.2 适配原则
- 移动端优先
- 内容自适应
- 保持功能完整
- 优化触摸体验

## 五、设计规范
### 5.1 字体系统
- 主要字体
  - 中文：PingFang SC
  - 英文：SF Pro Text
  - 代码：JetBrains Mono
- 字号系统
  - 主标题：24px
  - 副标题：18px
  - 正文：14px
  - 辅助文本：12px

### 5.2 间距系统
- 基础单位：8px
- 组件内间距：16px
- 组件间距：24px
- 区块间距：32px

### 5.3 图标系统
- 线性图标
- 统一尺寸：24x24
- 线条粗细：2px
- 圆角：2px
